(()=>{var e={604:(e,t,r)=>{var n;!function(){"use strict";var a={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function i(e){return function(e,t){var r,n,s,o,l,u,c,d,f,p=1,m=e.length,h="";for(n=0;n<m;n++)if("string"==typeof e[n])h+=e[n];else if("object"==typeof e[n]){if((o=e[n]).keys)for(r=t[p],s=0;s<o.keys.length;s++){if(null==r)throw new Error(i('[sprintf] Cannot access property "%s" of undefined value "%s"',o.keys[s],o.keys[s-1]));r=r[o.keys[s]]}else r=o.param_no?t[o.param_no]:t[p++];if(a.not_type.test(o.type)&&a.not_primitive.test(o.type)&&r instanceof Function&&(r=r()),a.numeric_arg.test(o.type)&&"number"!=typeof r&&isNaN(r))throw new TypeError(i("[sprintf] expecting number but found %T",r));switch(a.number.test(o.type)&&(d=r>=0),o.type){case"b":r=parseInt(r,10).toString(2);break;case"c":r=String.fromCharCode(parseInt(r,10));break;case"d":case"i":r=parseInt(r,10);break;case"j":r=JSON.stringify(r,null,o.width?parseInt(o.width):0);break;case"e":r=o.precision?parseFloat(r).toExponential(o.precision):parseFloat(r).toExponential();break;case"f":r=o.precision?parseFloat(r).toFixed(o.precision):parseFloat(r);break;case"g":r=o.precision?String(Number(r.toPrecision(o.precision))):parseFloat(r);break;case"o":r=(parseInt(r,10)>>>0).toString(8);break;case"s":r=String(r),r=o.precision?r.substring(0,o.precision):r;break;case"t":r=String(!!r),r=o.precision?r.substring(0,o.precision):r;break;case"T":r=Object.prototype.toString.call(r).slice(8,-1).toLowerCase(),r=o.precision?r.substring(0,o.precision):r;break;case"u":r=parseInt(r,10)>>>0;break;case"v":r=r.valueOf(),r=o.precision?r.substring(0,o.precision):r;break;case"x":r=(parseInt(r,10)>>>0).toString(16);break;case"X":r=(parseInt(r,10)>>>0).toString(16).toUpperCase()}a.json.test(o.type)?h+=r:(!a.number.test(o.type)||d&&!o.sign?f="":(f=d?"+":"-",r=r.toString().replace(a.sign,"")),u=o.pad_char?"0"===o.pad_char?"0":o.pad_char.charAt(1):" ",c=o.width-(f+r).length,l=o.width&&c>0?u.repeat(c):"",h+=o.align?f+r+l:"0"===u?f+l+r:l+f+r)}return h}(function(e){if(o[e])return o[e];for(var t,r=e,n=[],i=0;r;){if(null!==(t=a.text.exec(r)))n.push(t[0]);else if(null!==(t=a.modulo.exec(r)))n.push("%");else{if(null===(t=a.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){i|=1;var s=[],l=t[2],u=[];if(null===(u=a.key.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(s.push(u[1]);""!==(l=l.substring(u[0].length));)if(null!==(u=a.key_access.exec(l)))s.push(u[1]);else{if(null===(u=a.index_access.exec(l)))throw new SyntaxError("[sprintf] failed to parse named argument key");s.push(u[1])}t[2]=s}else i|=2;if(3===i)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}r=r.substring(t[0].length)}return o[e]=n}(e),arguments)}function s(e,t){return i.apply(null,[e].concat(t||[]))}var o=Object.create(null);"undefined"!=typeof window&&(window.sprintf=i,window.vsprintf=s,void 0===(n=function(){return{sprintf:i,vsprintf:s}}.call(t,r,t,e))||(e.exports=n))}()}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(()=>{"use strict";const e=wp.components;var t=["onClick","label"];function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(null,arguments)}var a=function(r){var a=[{label:"Ver",onClick:r.onEditClick,variant:"primary",size:"small"},{label:"Notas",onClick:r.onNotesClick,variant:"secondary",size:"small"}];return React.createElement("div",null,function(r){return null!=r&&r.length?React.createElement(e.ButtonGroup,null,r.map((function(r,a){var i=r.onClick,s=r.label,o=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.includes(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(r,t);return React.createElement(e.Button,n({key:a,onClick:i},o),s)}))):null}(a))};const i=wp.element,s=React;var o=e=>"checkbox"===e.type,l=e=>e instanceof Date,u=e=>null==e;const c=e=>"object"==typeof e;var d=e=>!u(e)&&!Array.isArray(e)&&c(e)&&!l(e),f=e=>d(e)&&e.target?o(e.target)?e.target.checked:e.target.value:e,p=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),m=e=>{const t=e.constructor&&e.constructor.prototype;return d(t)&&t.hasOwnProperty("isPrototypeOf")},h="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function y(e){let t;const r=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(h&&(e instanceof Blob||e instanceof FileList)||!r&&!d(e))return e;if(t=r?[]:{},r||m(e))for(const r in e)e.hasOwnProperty(r)&&(t[r]=y(e[r]));else t=e}return t}var g=e=>Array.isArray(e)?e.filter(Boolean):[],v=e=>void 0===e,b=(e,t,r)=>{if(!t||!d(e))return r;const n=g(t.split(/[,[\].]+?/)).reduce(((e,t)=>u(e)?e:e[t]),e);return v(n)||n===e?v(e[t])?r:e[t]:n},_=e=>"boolean"==typeof e,w=e=>/^\w*$/.test(e),x=e=>g(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,t,r)=>{let n=-1;const a=w(t)?[t]:x(t),i=a.length,s=i-1;for(;++n<i;){const t=a[n];let i=r;if(n!==s){const r=e[t];i=d(r)||Array.isArray(r)?r:isNaN(+a[n+1])?{}:[]}if("__proto__"===t)return;e[t]=i,e=e[t]}return e};const A={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},E={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},F="pattern",k="required";s.createContext(null);var O=e=>d(e)&&!Object.keys(e).length,V=e=>Array.isArray(e)?e:[e];var T=e=>"string"==typeof e,C=(e,t,r,n,a)=>T(e)?(n&&t.watch.add(e),b(r,e,a)):Array.isArray(e)?e.map((e=>(n&&t.watch.add(e),b(r,e)))):(n&&(t.watchAll=!0),r),j=(e,t,r,n,a)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:a||!0}}:{},D=e=>({isOnSubmit:!e||e===E.onSubmit,isOnBlur:e===E.onBlur,isOnChange:e===E.onChange,isOnAll:e===E.all,isOnTouch:e===E.onTouched}),R=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const N=(e,t,r,n)=>{for(const a of r||Object.keys(e)){const r=b(e,a);if(r){const{_f:e,...i}=r;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!n)return!0;if(e.ref&&t(e.ref,e.name)&&!n)return!0;if(N(i,t))break}else if(d(i)&&N(i,t))break}}};var P=(e,t,r)=>{const n=V(b(e,r));return S(n,"root",t[r]),S(e,r,n),e},q=e=>"file"===e.type,L=e=>"function"==typeof e,U=e=>{if(!h)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},M=e=>T(e),I=e=>"radio"===e.type,B=e=>e instanceof RegExp;const $={value:!1,isValid:!1},z={value:!0,isValid:!0};var G=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!v(e[0].attributes.value)?v(e[0].value)||""===e[0].value?z:{value:e[0].value,isValid:!0}:z:$}return $};const H={isValid:!1,value:null};var X=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),H):H;function J(e,t,r="validate"){if(M(e)||Array.isArray(e)&&e.every(M)||_(e)&&!e)return{type:r,message:M(e)?e:"",ref:t}}var W=e=>d(e)&&!B(e)?e:{value:e,message:""},K=async(e,t,r,n,a)=>{const{ref:i,refs:s,required:l,maxLength:c,minLength:f,min:p,max:m,pattern:h,validate:y,name:g,valueAsNumber:w,mount:x,disabled:S}=e._f,A=b(t,g);if(!x||S)return{};const E=s?s[0]:i,V=e=>{n&&E.reportValidity&&(E.setCustomValidity(_(e)?"":e||""),E.reportValidity())},C={},D=I(i),R=o(i),N=D||R,P=(w||q(i))&&v(i.value)&&v(A)||U(i)&&""===i.value||""===A||Array.isArray(A)&&!A.length,$=j.bind(null,g,r,C),z=(e,t,r,n="maxLength",a="minLength")=>{const s=e?t:r;C[g]={type:e?n:a,message:s,ref:i,...$(e?n:a,s)}};if(a?!Array.isArray(A)||!A.length:l&&(!N&&(P||u(A))||_(A)&&!A||R&&!G(s).isValid||D&&!X(s).isValid)){const{value:e,message:t}=M(l)?{value:!!l,message:l}:W(l);if(e&&(C[g]={type:k,message:t,ref:E,...$(k,t)},!r))return V(t),C}if(!(P||u(p)&&u(m))){let e,t;const n=W(m),a=W(p);if(u(A)||isNaN(A)){const r=i.valueAsDate||new Date(A),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==i.type,l="week"==i.type;T(n.value)&&A&&(e=o?s(A)>s(n.value):l?A>n.value:r>new Date(n.value)),T(a.value)&&A&&(t=o?s(A)<s(a.value):l?A<a.value:r<new Date(a.value))}else{const r=i.valueAsNumber||(A?+A:A);u(n.value)||(e=r>n.value),u(a.value)||(t=r<a.value)}if((e||t)&&(z(!!e,n.message,a.message,"max","min"),!r))return V(C[g].message),C}if((c||f)&&!P&&(T(A)||a&&Array.isArray(A))){const e=W(c),t=W(f),n=!u(e.value)&&A.length>+e.value,a=!u(t.value)&&A.length<+t.value;if((n||a)&&(z(n,e.message,t.message),!r))return V(C[g].message),C}if(h&&!P&&T(A)){const{value:e,message:t}=W(h);if(B(e)&&!A.match(e)&&(C[g]={type:F,message:t,ref:i,...$(F,t)},!r))return V(t),C}if(y)if(L(y)){const e=J(await y(A,t),E);if(e&&(C[g]={...e,...$("validate",e.message)},!r))return V(e.message),C}else if(d(y)){let e={};for(const n in y){if(!O(e)&&!r)break;const a=J(await y[n](A,t),E,n);a&&(e={...a,...$(n,a.message)},V(a.message),r&&(C[g]=e))}if(!O(e)&&(C[g]={ref:E,...e},!r))return C}return V(!0),C};function Y(e,t){const r=Array.isArray(t)?t:w(t)?[t]:x(t),n=1===r.length?e:function(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=v(e)?n++:e[t[n++]];return e}(e,r),a=r.length-1,i=r[a];return n&&delete n[i],0!==a&&(d(n)&&O(n)||Array.isArray(n)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!v(e[t]))return!1;return!0}(n))&&Y(e,r.slice(0,-1)),e}var Q=()=>{let e=[];return{get observers(){return e},next:t=>{for(const r of e)r.next&&r.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},Z=e=>u(e)||!c(e);function ee(e,t){if(Z(e)||Z(t))return e===t;if(l(e)&&l(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const a of r){const r=e[a];if(!n.includes(a))return!1;if("ref"!==a){const e=t[a];if(l(r)&&l(e)||d(r)&&d(e)||Array.isArray(r)&&Array.isArray(e)?!ee(r,e):r!==e)return!1}}return!0}var te=e=>"select-multiple"===e.type,re=e=>I(e)||o(e),ne=e=>U(e)&&e.isConnected,ae=e=>{for(const t in e)if(L(e[t]))return!0;return!1};function ie(e,t={}){const r=Array.isArray(e);if(d(e)||r)for(const r in e)Array.isArray(e[r])||d(e[r])&&!ae(e[r])?(t[r]=Array.isArray(e[r])?[]:{},ie(e[r],t[r])):u(e[r])||(t[r]=!0);return t}function se(e,t,r){const n=Array.isArray(e);if(d(e)||n)for(const n in e)Array.isArray(e[n])||d(e[n])&&!ae(e[n])?v(t)||Z(r[n])?r[n]=Array.isArray(e[n])?ie(e[n],[]):{...ie(e[n])}:se(e[n],u(t)?{}:t[n],r[n]):r[n]=!ee(e[n],t[n]);return r}var oe=(e,t)=>se(e,t,ie(t)),le=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>v(e)?e:t?""===e?NaN:e?+e:e:r&&T(e)?new Date(e):n?n(e):e;function ue(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return q(t)?t.files:I(t)?X(e.refs).value:te(t)?[...t.selectedOptions].map((({value:e})=>e)):o(t)?G(e.refs).value:le(v(t.value)?e.ref.value:t.value,e)}var ce=(e,t,r,n)=>{const a={};for(const r of e){const e=b(t,r);e&&S(a,r,e._f)}return{criteriaMode:r,names:[...e],fields:a,shouldUseNativeValidation:n}},de=e=>v(e)?e:B(e)?e.source:d(e)?B(e.value)?e.value.source:e.value:e;const fe="AsyncFunction";var pe=e=>!(e&&e.validate||!(L(e.validate)&&e.validate.constructor.name===fe||d(e.validate)&&Object.values(e.validate).find((e=>e.constructor.name===fe)))),me=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function he(e,t,r){const n=b(e,r);if(n||w(r))return{error:n,name:r};const a=r.split(".");for(;a.length;){const n=a.join("."),i=b(t,n),s=b(e,n);if(i&&!Array.isArray(i)&&r!==n)return{name:r};if(s&&s.type)return{name:n,error:s};a.pop()}return{name:r}}var ye=(e,t,r,n,a)=>!a.isOnAll&&(!r&&a.isOnTouch?!(t||e):(r?n.isOnBlur:a.isOnBlur)?!e:!(r?n.isOnChange:a.isOnChange)||e),ge=(e,t)=>!g(b(e,t)).length&&Y(e,t);const ve={mode:E.onSubmit,reValidateMode:E.onChange,shouldFocusError:!0};function be(e={}){let t,r={...ve,...e},n={submitCount:0,isDirty:!1,isLoading:L(r.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1},a={},i=(d(r.defaultValues)||d(r.values))&&y(r.defaultValues||r.values)||{},s=r.shouldUnregister?{}:y(i),c={action:!1,mount:!1,watch:!1},m={mount:new Set,unMount:new Set,array:new Set,watch:new Set},w=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},F={values:Q(),array:Q(),state:Q()},k=D(r.mode),j=D(r.reValidateMode),M=r.criteriaMode===E.all,I=async e=>{if(x.isValid||e){const e=r.resolver?O((await G()).errors):await H(a,!0);e!==n.isValid&&F.state.next({isValid:e})}},B=(e,t)=>{(x.isValidating||x.validatingFields)&&((e||Array.from(m.mount)).forEach((e=>{e&&(t?S(n.validatingFields,e,t):Y(n.validatingFields,e))})),F.state.next({validatingFields:n.validatingFields,isValidating:!O(n.validatingFields)}))},$=(e,t,r,n)=>{const o=b(a,e);if(o){const a=b(s,e,v(r)?b(i,e):r);v(a)||n&&n.defaultChecked||t?S(s,e,t?a:ue(o._f)):W(e,a),c.mount&&I()}},z=(e,t,r,s,o)=>{let l=!1,u=!1;const c={name:e},d=!!(b(a,e)&&b(a,e)._f&&b(a,e)._f.disabled);if(!r||s){x.isDirty&&(u=n.isDirty,n.isDirty=c.isDirty=X(),l=u!==c.isDirty);const r=d||ee(b(i,e),t);u=!(d||!b(n.dirtyFields,e)),r||d?Y(n.dirtyFields,e):S(n.dirtyFields,e,!0),c.dirtyFields=n.dirtyFields,l=l||x.dirtyFields&&u!==!r}if(r){const t=b(n.touchedFields,e);t||(S(n.touchedFields,e,r),c.touchedFields=n.touchedFields,l=l||x.touchedFields&&t!==r)}return l&&o&&F.state.next(c),l?c:{}},G=async e=>{B(e,!0);const t=await r.resolver(s,r.context,ce(e||m.mount,a,r.criteriaMode,r.shouldUseNativeValidation));return B(e),t},H=async(e,t,a={valid:!0})=>{for(const i in e){const o=e[i];if(o){const{_f:e,...l}=o;if(e){const l=m.array.has(e.name),u=o._f&&pe(o._f);u&&x.validatingFields&&B([i],!0);const c=await K(o,s,M,r.shouldUseNativeValidation&&!t,l);if(u&&x.validatingFields&&B([i]),c[e.name]&&(a.valid=!1,t))break;!t&&(b(c,e.name)?l?P(n.errors,c,e.name):S(n.errors,e.name,c[e.name]):Y(n.errors,e.name))}!O(l)&&await H(l,t,a)}}return a.valid},X=(e,t)=>(e&&t&&S(s,e,t),!ee(_e(),i)),J=(e,t,r)=>C(e,m,{...c.mount?s:v(t)?i:T(e)?{[e]:t}:t},r,t),W=(e,t,r={})=>{const n=b(a,e);let i=t;if(n){const r=n._f;r&&(!r.disabled&&S(s,e,le(t,r)),i=U(r.ref)&&u(t)?"":t,te(r.ref)?[...r.ref.options].forEach((e=>e.selected=i.includes(e.value))):r.refs?o(r.ref)?r.refs.length>1?r.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((t=>t===e.value)):i===e.value))):r.refs[0]&&(r.refs[0].checked=!!i):r.refs.forEach((e=>e.checked=e.value===i)):q(r.ref)?r.ref.value="":(r.ref.value=i,r.ref.type||F.values.next({name:e,values:{...s}})))}(r.shouldDirty||r.shouldTouch)&&z(e,i,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&be(e)},ae=(e,t,r)=>{for(const n in t){const i=t[n],s=`${e}.${n}`,o=b(a,s);!m.array.has(e)&&Z(i)&&(!o||o._f)||l(i)?W(s,i,r):ae(s,i,r)}},ie=(e,t,r={})=>{const o=b(a,e),l=m.array.has(e),d=y(t);S(s,e,d),l?(F.array.next({name:e,values:{...s}}),(x.isDirty||x.dirtyFields)&&r.shouldDirty&&F.state.next({name:e,dirtyFields:oe(i,s),isDirty:X(e,d)})):!o||o._f||u(d)?W(e,d,r):ae(e,d,r),R(e,m)&&F.state.next({...n}),F.values.next({name:c.mount?e:void 0,values:{...s}})},se=async i=>{c.mount=!0;const o=i.target;let l=o.name,u=!0;const d=b(a,l),p=e=>{u=Number.isNaN(e)||ee(e,b(s,l,e))};if(d){let c,h;const y=o.type?ue(d._f):f(i),g=i.type===A.BLUR||i.type===A.FOCUS_OUT,v=!me(d._f)&&!r.resolver&&!b(n.errors,l)&&!d._f.deps||ye(g,b(n.touchedFields,l),n.isSubmitted,j,k),E=R(l,m,g);S(s,l,y),g?(d._f.onBlur&&d._f.onBlur(i),t&&t(0)):d._f.onChange&&d._f.onChange(i);const V=z(l,y,g,!1),T=!O(V)||E;if(!g&&F.values.next({name:l,type:i.type,values:{...s}}),v)return x.isValid&&("onBlur"===e.mode?g&&I():I()),T&&F.state.next({name:l,...E?{}:V});if(!g&&E&&F.state.next({...n}),r.resolver){const{errors:e}=await G([l]);if(p(y),u){const t=he(n.errors,a,l),r=he(e,a,t.name||l);c=r.error,l=r.name,h=O(e)}}else B([l],!0),c=(await K(d,s,M,r.shouldUseNativeValidation))[l],B([l]),p(y),u&&(c?h=!1:x.isValid&&(h=await H(a,!0)));u&&(d._f.deps&&be(d._f.deps),((r,a,i,s)=>{const o=b(n.errors,r),l=x.isValid&&_(a)&&n.isValid!==a;var u;if(e.delayError&&i?(u=()=>((e,t)=>{S(n.errors,e,t),F.state.next({errors:n.errors})})(r,i),t=e=>{clearTimeout(w),w=setTimeout(u,e)},t(e.delayError)):(clearTimeout(w),t=null,i?S(n.errors,r,i):Y(n.errors,r)),(i?!ee(o,i):o)||!O(s)||l){const e={...s,...l&&_(a)?{isValid:a}:{},errors:n.errors,name:r};n={...n,...e},F.state.next(e)}})(l,h,c,V))}},fe=(e,t)=>{if(b(n.errors,t)&&e.focus)return e.focus(),1},be=async(e,t={})=>{let i,s;const o=V(e);if(r.resolver){const t=await(async e=>{const{errors:t}=await G(e);if(e)for(const r of e){const e=b(t,r);e?S(n.errors,r,e):Y(n.errors,r)}else n.errors=t;return t})(v(e)?e:o);i=O(t),s=e?!o.some((e=>b(t,e))):i}else e?(s=(await Promise.all(o.map((async e=>{const t=b(a,e);return await H(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||n.isValid)&&I()):s=i=await H(a);return F.state.next({...!T(e)||x.isValid&&i!==n.isValid?{}:{name:e},...r.resolver||!e?{isValid:i}:{},errors:n.errors}),t.shouldFocus&&!s&&N(a,fe,e?o:m.mount),s},_e=e=>{const t={...c.mount?s:i};return v(e)?t:T(e)?b(t,e):e.map((e=>b(t,e)))},we=(e,t)=>({invalid:!!b((t||n).errors,e),isDirty:!!b((t||n).dirtyFields,e),error:b((t||n).errors,e),isValidating:!!b(n.validatingFields,e),isTouched:!!b((t||n).touchedFields,e)}),xe=(e,t,r)=>{const i=(b(a,e,{_f:{}})._f||{}).ref,s=b(n.errors,e)||{},{ref:o,message:l,type:u,...c}=s;S(n.errors,e,{...c,...t,ref:i}),F.state.next({name:e,errors:n.errors,isValid:!1}),r&&r.shouldFocus&&i&&i.focus&&i.focus()},Se=(e,t={})=>{for(const o of e?V(e):m.mount)m.mount.delete(o),m.array.delete(o),t.keepValue||(Y(a,o),Y(s,o)),!t.keepError&&Y(n.errors,o),!t.keepDirty&&Y(n.dirtyFields,o),!t.keepTouched&&Y(n.touchedFields,o),!t.keepIsValidating&&Y(n.validatingFields,o),!r.shouldUnregister&&!t.keepDefaultValue&&Y(i,o);F.values.next({values:{...s}}),F.state.next({...n,...t.keepDirty?{isDirty:X()}:{}}),!t.keepIsValid&&I()},Ae=({disabled:e,name:t,field:r,fields:n,value:a})=>{if(_(e)&&c.mount||e){const i=e?void 0:v(a)?ue(r?r._f:b(n,t)._f):a;S(s,t,i),z(t,i,!1,!1,!0)}},Ee=(t,n={})=>{let s=b(a,t);const o=_(n.disabled)||_(e.disabled);return S(a,t,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:t}},name:t,mount:!0,...n}}),m.mount.add(t),s?Ae({field:s,disabled:_(n.disabled)?n.disabled:e.disabled,name:t,value:n.value}):$(t,!0,n.value),{...o?{disabled:n.disabled||e.disabled}:{},...r.progressive?{required:!!n.required,min:de(n.min),max:de(n.max),minLength:de(n.minLength),maxLength:de(n.maxLength),pattern:de(n.pattern)}:{},name:t,onChange:se,onBlur:se,ref:e=>{if(e){Ee(t,n),s=b(a,t);const r=v(e.value)&&e.querySelectorAll&&e.querySelectorAll("input,select,textarea")[0]||e,o=re(r),l=s._f.refs||[];if(o?l.find((e=>e===r)):r===s._f.ref)return;S(a,t,{_f:{...s._f,...o?{refs:[...l.filter(ne),r,...Array.isArray(b(i,t))?[{}]:[]],ref:{type:r.type,name:t}}:{ref:r}}}),$(t,!1,void 0,r)}else s=b(a,t,{}),s._f&&(s._f.mount=!1),(r.shouldUnregister||n.shouldUnregister)&&(!p(m.array,t)||!c.action)&&m.unMount.add(t)}}},Fe=()=>r.shouldFocusError&&N(a,fe,m.mount),ke=(e,t)=>async i=>{let o;i&&(i.preventDefault&&i.preventDefault(),i.persist&&i.persist());let l=y(s);if(F.state.next({isSubmitting:!0}),r.resolver){const{errors:e,values:t}=await G();n.errors=e,l=t}else await H(a);if(Y(n.errors,"root"),O(n.errors)){F.state.next({errors:{}});try{await e(l,i)}catch(e){o=e}}else t&&await t({...n.errors},i),Fe(),setTimeout(Fe);if(F.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(n.errors)&&!o,submitCount:n.submitCount+1,errors:n.errors}),o)throw o},Oe=(t,r={})=>{const o=t?y(t):i,l=y(o),u=O(t),d=u?i:l;if(r.keepDefaultValues||(i=o),!r.keepValues){if(r.keepDirtyValues)for(const e of m.mount)b(n.dirtyFields,e)?S(d,e,b(s,e)):ie(e,b(d,e));else{if(h&&v(t))for(const e of m.mount){const t=b(a,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(U(e)){const t=e.closest("form");if(t){t.reset();break}}}}a={}}s=e.shouldUnregister?r.keepDefaultValues?y(i):{}:y(d),F.array.next({values:{...d}}),F.values.next({values:{...d}})}m={mount:r.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!x.isValid||!!r.keepIsValid||!!r.keepDirtyValues,c.watch=!!e.shouldUnregister,F.state.next({submitCount:r.keepSubmitCount?n.submitCount:0,isDirty:!u&&(r.keepDirty?n.isDirty:!(!r.keepDefaultValues||ee(t,i))),isSubmitted:!!r.keepIsSubmitted&&n.isSubmitted,dirtyFields:u?{}:r.keepDirtyValues?r.keepDefaultValues&&s?oe(i,s):n.dirtyFields:r.keepDefaultValues&&t?oe(i,t):r.keepDirty?n.dirtyFields:{},touchedFields:r.keepTouched?n.touchedFields:{},errors:r.keepErrors?n.errors:{},isSubmitSuccessful:!!r.keepIsSubmitSuccessful&&n.isSubmitSuccessful,isSubmitting:!1})},Ve=(e,t)=>Oe(L(e)?e(s):e,t);return{control:{register:Ee,unregister:Se,getFieldState:we,handleSubmit:ke,setError:xe,_executeSchema:G,_getWatch:J,_getDirty:X,_updateValid:I,_removeUnmounted:()=>{for(const e of m.unMount){const t=b(a,e);t&&(t._f.refs?t._f.refs.every((e=>!ne(e))):!ne(t._f.ref))&&Se(e)}m.unMount=new Set},_updateFieldArray:(e,t=[],r,o,l=!0,u=!0)=>{if(o&&r){if(c.action=!0,u&&Array.isArray(b(a,e))){const t=r(b(a,e),o.argA,o.argB);l&&S(a,e,t)}if(u&&Array.isArray(b(n.errors,e))){const t=r(b(n.errors,e),o.argA,o.argB);l&&S(n.errors,e,t),ge(n.errors,e)}if(x.touchedFields&&u&&Array.isArray(b(n.touchedFields,e))){const t=r(b(n.touchedFields,e),o.argA,o.argB);l&&S(n.touchedFields,e,t)}x.dirtyFields&&(n.dirtyFields=oe(i,s)),F.state.next({name:e,isDirty:X(e,t),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else S(s,e,t)},_updateDisabledField:Ae,_getFieldArray:t=>g(b(c.mount?s:i,t,e.shouldUnregister?b(i,t,[]):[])),_reset:Oe,_resetDefaultValues:()=>L(r.defaultValues)&&r.defaultValues().then((e=>{Ve(e,r.resetOptions),F.state.next({isLoading:!1})})),_updateFormState:e=>{n={...n,...e}},_disableForm:e=>{_(e)&&(F.state.next({disabled:e}),N(a,((t,r)=>{const n=b(a,r);n&&(t.disabled=n._f.disabled||e,Array.isArray(n._f.refs)&&n._f.refs.forEach((t=>{t.disabled=n._f.disabled||e})))}),0,!1))},_subjects:F,_proxyFormState:x,_setErrors:e=>{n.errors=e,F.state.next({errors:n.errors,isValid:!1})},get _fields(){return a},get _formValues(){return s},get _state(){return c},set _state(e){c=e},get _defaultValues(){return i},get _names(){return m},set _names(e){m=e},get _formState(){return n},set _formState(e){n=e},get _options(){return r},set _options(e){r={...r,...e}}},trigger:be,register:Ee,handleSubmit:ke,watch:(e,t)=>L(e)?F.values.subscribe({next:r=>e(J(void 0,t),r)}):J(e,t,!0),setValue:ie,getValues:_e,reset:Ve,resetField:(e,t={})=>{b(a,e)&&(v(t.defaultValue)?ie(e,y(b(i,e))):(ie(e,t.defaultValue),S(i,e,y(t.defaultValue))),t.keepTouched||Y(n.touchedFields,e),t.keepDirty||(Y(n.dirtyFields,e),n.isDirty=t.defaultValue?X(e,y(b(i,e))):X()),t.keepError||(Y(n.errors,e),x.isValid&&I()),F.state.next({...n}))},clearErrors:e=>{e&&V(e).forEach((e=>Y(n.errors,e))),F.state.next({errors:e?n.errors:{}})},unregister:Se,setError:xe,setFocus:(e,t={})=>{const r=b(a,e),n=r&&r._f;if(n){const e=n.refs?n.refs[0]:n.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:we}}function _e(e={}){const t=s.useRef(),r=s.useRef(),[n,a]=s.useState({isDirty:!1,isValidating:!1,isLoading:L(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:L(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...be(e),formState:n});const i=t.current.control;return i._options=e,function(e){const t=s.useRef(e);t.current=e,s.useEffect((()=>{const r=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{r&&r.unsubscribe()}}),[e.disabled])}({subject:i._subjects.state,next:e=>{((e,t,r,n)=>{r(e);const{name:a,...i}=e;return O(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((e=>t[e]===(!n||E.all)))})(e,i._proxyFormState,i._updateFormState,!0)&&a({...i._formState})}}),s.useEffect((()=>i._disableForm(e.disabled)),[i,e.disabled]),s.useEffect((()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==n.isDirty&&i._subjects.state.next({isDirty:e})}}),[i,n.isDirty]),s.useEffect((()=>{e.values&&!ee(e.values,r.current)?(i._reset(e.values,i._options.resetOptions),r.current=e.values,a((e=>({...e})))):i._resetDefaultValues()}),[e.values,i]),s.useEffect((()=>{e.errors&&i._setErrors(e.errors)}),[e.errors,i]),s.useEffect((()=>{i._state.mount||(i._updateValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()})),s.useEffect((()=>{e.shouldUnregister&&i._subjects.values.next({values:i._getWatch()})}),[e.shouldUnregister,i]),t.current.formState=((e,t,r,n=!0)=>{const a={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(a,i,{get:()=>{const a=i;return t._proxyFormState[a]!==E.all&&(t._proxyFormState[a]=!n||E.all),r&&(r[a]=!0),e[a]}});return a})(n,i),t.current}function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},we.apply(null,arguments)}var xe=function(t){var r=t.register;return React.createElement(e.__experimentalGrid,{gap:2,style:{marginTop:"15px"}},React.createElement(e.TextControl,we({label:"Nombre"},r("first_name",{required:!0}))),React.createElement(e.TextControl,we({label:"Nombre"},r("last_name",{required:!0}))),React.createElement(e.TextControl,we({label:"Email"},r("email",{required:!0}))),React.createElement(e.TextControl,we({label:"Teléfono"},r("phone_number",{required:!0}))),React.createElement(e.TextControl,we({label:"Nombre de la EPS"},r("eps",{required:!0}))),React.createElement(e.TextControl,we({label:"Talla de camiseta"},r("shirt_size",{required:!0}))),React.createElement(e.TextControl,we({label:"Estado civil"},r("marital_status",{required:!0}))),React.createElement(e.TextControl,we({label:"Fecha de nacimiento"},r("birthdate",{required:!0}))))};function Se(){return Se=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Se.apply(null,arguments)}var Ae=function(t){var r=t.register;return React.createElement(e.__experimentalGrid,{gap:2,style:{marginTop:"15px"}},React.createElement(e.TextControl,Se({label:"Nombre de contacto de emergencia 1"},r("emergency_contact_name_1",{required:!0}))),React.createElement(e.TextControl,Se({label:"Teléfono de contacto de emergencia 1"},r("emergency_contact_phone_1",{required:!0}))),React.createElement(e.TextControl,Se({label:"Parentesco de contacto de emergencia 1"},r("emergency_contact_relationship_1",{required:!0}))),React.createElement(e.TextControl,Se({label:"Nombre de contacto de emergencia 2"},r("emergency_contact_name_2",{required:!0}))),React.createElement(e.TextControl,Se({label:"Teléfono de contacto de emergencia 2"},r("emergency_contact_phone_2",{required:!0}))),React.createElement(e.TextControl,Se({label:"Parentesco de contacto de emergencia 2"},r("emergency_contact_relationship_2",{required:!0}))),React.createElement(e.TextControl,Se({label:"Nombre de la persona que paga"},r("payment_by_name",{required:!0}))),React.createElement(e.TextControl,Se({label:"Teléfono de la persona que paga"},r("payment_by_phone",{required:!0}))),React.createElement(e.TextControl,Se({label:"Nombre de la persona que invita"},r("invited_by_name",{required:!0}))),React.createElement(e.TextControl,Se({label:"Teléfono de la persona que invita"},r("invited_by_phone",{required:!0}))),React.createElement(e.TextControl,Se({label:"Parentesco de la persona que invita"},r("invited_by_relationship",{required:!0}))),React.createElement(e.TextControl,Se({label:"¿La persona que invita es servidor?"},r("invited_contact_is_servant",{required:!0}))))};function Ee(){return Ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ee.apply(null,arguments)}var Fe,ke,Oe,Ve,Te,Ce=function(t){var r=t.register;return React.createElement(e.__experimentalGrid,{gap:2,style:{marginTop:"15px"}},React.createElement(e.TextareaControl,Ee({label:"¿Tiene alguna condición médica?"},r("medical_condition"))),React.createElement(e.TextareaControl,Ee({label:"¿Tiene alguna dieta especial?"},r("special_diet"))),React.createElement(e.TextareaControl,Ee({label:"Notas adicionales"},r("additional_notes"))))},je=function(t){var r=t.setModalOpen,n=_e({defaultValues:t.data}),a=n.register,i=n.handleSubmit;return n.watch,n.formState.errors,React.createElement(e.Modal,{title:"Editar Información del Usuario",onRequestClose:function(){return r(!1)},size:"large"},React.createElement("form",{onSubmit:i((function(){console.log("Saving user data..."),r(!1)}))},React.createElement(e.TabPanel,{tabs:[{name:"tab1",title:"Información Personal",content:React.createElement(xe,{register:a})},{name:"tab2",title:"Información de Contacto",content:React.createElement(Ae,{register:a})},{name:"tab3",title:"Información Adicional",content:React.createElement(Ce,{register:a})}]},(function(e){return React.createElement("div",{className:e.className},e.content)})),React.createElement(e.Button,{type:"submit",variant:"secondary"},"Guardar")))};r(604),console.error,Fe=Fe||{},ke={"(":9,"!":8,"*":7,"/":7,"%":7,"+":6,"-":6,"<":5,"<=":5,">":5,">=":5,"==":4,"!=":4,"&&":3,"||":2,"?":1,"?:":1},Oe=["(","?"],Ve={")":["("],":":["?","?:"]},Te=/<=|>=|==|!=|&&|\|\||\?:|\(|!|\*|\/|%|\+|-|<|>|\?|\)|:/;var De={"!":function(e){return!e},"*":function(e,t){return e*t},"/":function(e,t){return e/t},"%":function(e,t){return e%t},"+":function(e,t){return e+t},"-":function(e,t){return e-t},"<":function(e,t){return e<t},"<=":function(e,t){return e<=t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"==":function(e,t){return e===t},"!=":function(e,t){return e!==t},"&&":function(e,t){return e&&t},"||":function(e,t){return e||t},"?:":function(e,t,r){if(e)throw t;return r}};var Re={contextDelimiter:"",onMissingKey:null};function Ne(e,t){var r;for(r in this.data=e,this.pluralForms={},this.options={},Re)this.options[r]=void 0!==t&&r in t?t[r]:Re[r]}Ne.prototype.getPluralForm=function(e,t){var r,n,a,i,s=this.pluralForms[e];return s||("function"!=typeof(a=(r=this.data[e][""])["Plural-Forms"]||r["plural-forms"]||r.plural_forms)&&(n=function(e){var t,r,n;for(t=e.split(";"),r=0;r<t.length;r++)if(0===(n=t[r].trim()).indexOf("plural="))return n.substr(7)}(r["Plural-Forms"]||r["plural-forms"]||r.plural_forms),i=function(e){var t=function(e){for(var t,r,n,a,i=[],s=[];t=e.match(Te);){for(r=t[0],(n=e.substr(0,t.index).trim())&&i.push(n);a=s.pop();){if(Ve[r]){if(Ve[r][0]===a){r=Ve[r][1]||r;break}}else if(Oe.indexOf(a)>=0||ke[a]<ke[r]){s.push(a);break}i.push(a)}Ve[r]||s.push(r),e=e.substr(t.index+r.length)}return(e=e.trim())&&i.push(e),i.concat(s.reverse())}(e);return function(e){return function(e,t){var r,n,a,i,s,o,l=[];for(r=0;r<e.length;r++){if(s=e[r],i=De[s]){for(n=i.length,a=Array(n);n--;)a[n]=l.pop();try{o=i.apply(null,a)}catch(e){return e}}else o=t.hasOwnProperty(s)?t[s]:+s;l.push(o)}return l[0]}(t,e)}}(n),a=function(e){return+i({n:e})}),s=this.pluralForms[e]=a),s(t)},Ne.prototype.dcnpgettext=function(e,t,r,n,a){var i,s,o;return i=void 0===a?0:this.getPluralForm(e,a),s=r,t&&(s=t+this.options.contextDelimiter+r),(o=this.data[e][s])&&o[i]?o[i]:(this.options.onMissingKey&&this.options.onMissingKey(r,e),0===i?r:n)};const Pe={plural_forms:e=>1===e?0:1},qe=/^i18n\.(n?gettext|has_translation)(_|$)/,Le=((e,t,r)=>{const n=new Ne({}),a=new Set,i=()=>{a.forEach((e=>e()))},s=(e,t="default")=>{n.data[t]={...n.data[t],...e},n.data[t][""]={...Pe,...n.data[t]?.[""]},delete n.pluralForms[t]},o=(e,t)=>{s(e,t),i()},l=(e="default",t,r,a,i)=>(n.data[e]||s(void 0,e),n.dcnpgettext(e,t,r,a,i)),u=(e="default")=>e,c=(e,t,n)=>{let a=l(n,t,e);return r?(a=r.applyFilters("i18n.gettext_with_context",a,e,t,n),r.applyFilters("i18n.gettext_with_context_"+u(n),a,e,t,n)):a};if(r){const e=e=>{qe.test(e)&&i()};r.addAction("hookAdded","core/i18n",e),r.addAction("hookRemoved","core/i18n",e)}return{getLocaleData:(e="default")=>n.data[e],setLocaleData:o,addLocaleData:(e,t="default")=>{n.data[t]={...n.data[t],...e,"":{...Pe,...n.data[t]?.[""],...e?.[""]}},delete n.pluralForms[t],i()},resetLocaleData:(e,t)=>{n.data={},n.pluralForms={},o(e,t)},subscribe:e=>(a.add(e),()=>a.delete(e)),__:(e,t)=>{let n=l(t,void 0,e);return r?(n=r.applyFilters("i18n.gettext",n,e,t),r.applyFilters("i18n.gettext_"+u(t),n,e,t)):n},_x:c,_n:(e,t,n,a)=>{let i=l(a,void 0,e,t,n);return r?(i=r.applyFilters("i18n.ngettext",i,e,t,n,a),r.applyFilters("i18n.ngettext_"+u(a),i,e,t,n,a)):i},_nx:(e,t,n,a,i)=>{let s=l(i,a,e,t,n);return r?(s=r.applyFilters("i18n.ngettext_with_context",s,e,t,n,a,i),r.applyFilters("i18n.ngettext_with_context_"+u(i),s,e,t,n,a,i)):s},isRTL:()=>"rtl"===c("ltr","text direction"),hasTranslation:(e,t,a)=>{const i=t?t+""+e:e;let s=!!n.data?.[null!=a?a:"default"]?.[i];return r&&(s=r.applyFilters("i18n.has_translation",s,e,t,a),s=r.applyFilters("i18n.has_translation_"+u(a),s,e,t,a)),s}}})(0,0,wp.hooks.defaultHooks),Ue=(Le.getLocaleData.bind(Le),Le.setLocaleData.bind(Le),Le.resetLocaleData.bind(Le),Le.subscribe.bind(Le),Le.__.bind(Le));Le._x.bind(Le),Le._n.bind(Le),Le._nx.bind(Le),Le.isRTL.bind(Le),Le.hasTranslation.bind(Le);const Me=(e,t)=>{let r,n,a=e.path;return"string"==typeof e.namespace&&"string"==typeof e.endpoint&&(r=e.namespace.replace(/^\/|\/$/g,""),n=e.endpoint.replace(/^\//,""),a=n?r+"/"+n:r),delete e.namespace,delete e.endpoint,t({...e,path:a})};function Ie(e){const t=e.split("?"),r=t[1],n=t[0];return r?n+"?"+r.split("&").map((e=>e.split("="))).map((e=>e.map(decodeURIComponent))).sort(((e,t)=>e[0].localeCompare(t[0]))).map((e=>e.map(encodeURIComponent))).map((e=>e.join("="))).join("&"):n}function Be(e){try{return decodeURIComponent(e)}catch(t){return e}}function $e(e){return(function(e){let t;try{t=new URL(e,"http://example.com").search.substring(1)}catch(e){}if(t)return t}(e)||"").replace(/\+/g,"%20").split("&").reduce(((e,t)=>{const[r,n=""]=t.split("=").filter(Boolean).map(Be);return r&&function(e,t,r){const n=t.length,a=n-1;for(let i=0;i<n;i++){let n=t[i];!n&&Array.isArray(e)&&(n=e.length.toString()),n=["__proto__","constructor","prototype"].includes(n)?n.toUpperCase():n;const s=!isNaN(Number(t[i+1]));e[n]=i===a?r:e[n]||(s?[]:{}),Array.isArray(e[n])&&!s&&(e[n]={...e[n]}),e=e[n]}}(e,r.replace(/\]/g,"").split("["),n),e}),Object.create(null))}function ze(e){let t="";const r=Object.entries(e);let n;for(;n=r.shift();){let[e,a]=n;if(Array.isArray(a)||a&&a.constructor===Object){const t=Object.entries(a).reverse();for(const[n,a]of t)r.unshift([`${e}[${n}]`,a])}else void 0!==a&&(null===a&&(a=""),t+="&"+[e,a].map(encodeURIComponent).join("="))}return t.substr(1)}function Ge(e="",t){if(!t||!Object.keys(t).length)return e;let r=e;const n=e.indexOf("?");return-1!==n&&(t=Object.assign($e(e),t),r=r.substr(0,n)),r+"?"+ze(t)}function He(e,t){return Promise.resolve(t?e.body:new window.Response(JSON.stringify(e.body),{status:200,statusText:"OK",headers:e.headers}))}const Xe=({path:e,url:t,...r},n)=>({...r,url:t&&Ge(t,n),path:e&&Ge(e,n)}),Je=e=>e.json?e.json():Promise.reject(e),We=e=>{const{next:t}=(e=>{if(!e)return{};const t=e.match(/<([^>]+)>; rel="next"/);return t?{next:t[1]}:{}})(e.headers.get("link"));return t},Ke=async(e,t)=>{if(!1===e.parse)return t(e);if(!(e=>{const t=!!e.path&&-1!==e.path.indexOf("per_page=-1"),r=!!e.url&&-1!==e.url.indexOf("per_page=-1");return t||r})(e))return t(e);const r=await ct({...Xe(e,{per_page:100}),parse:!1}),n=await Je(r);if(!Array.isArray(n))return n;let a=We(r);if(!a)return n;let i=[].concat(n);for(;a;){const t=await ct({...e,path:void 0,url:a,parse:!1}),r=await Je(t);i=i.concat(r),a=We(t)}return i},Ye=new Set(["PATCH","PUT","DELETE"]),Qe="GET";function Ze(e,t){return $e(e)[t]}function et(e,t){return void 0!==Ze(e,t)}const tt=(e,t=!0)=>Promise.resolve(((e,t=!0)=>t?204===e.status?null:e.json?e.json():Promise.reject(e):e)(e,t)).catch((e=>rt(e,t)));function rt(e,t=!0){if(!t)throw e;return(e=>{const t={code:"invalid_json",message:Ue("The response is not a valid JSON response.")};if(!e||!e.json)throw t;return e.json().catch((()=>{throw t}))})(e).then((e=>{const t={code:"unknown_error",message:Ue("An unknown error occurred.")};throw e||t}))}function nt(e,...t){const r=e.indexOf("?");if(-1===r)return e;const n=$e(e),a=e.substr(0,r);t.forEach((e=>delete n[e]));const i=ze(n);return i?a+"?"+i:a}const at={Accept:"application/json, */*;q=0.1"},it={credentials:"include"},st=[(e,t)=>("string"!=typeof e.url||et(e.url,"_locale")||(e.url=Ge(e.url,{_locale:"user"})),"string"!=typeof e.path||et(e.path,"_locale")||(e.path=Ge(e.path,{_locale:"user"})),t(e)),Me,(e,t)=>{const{method:r=Qe}=e;return Ye.has(r.toUpperCase())&&(e={...e,headers:{...e.headers,"X-HTTP-Method-Override":r,"Content-Type":"application/json"},method:"POST"}),t(e)},Ke],ot=e=>{if(e.status>=200&&e.status<300)return e;throw e};let lt=e=>{const{url:t,path:r,data:n,parse:a=!0,...i}=e;let{body:s,headers:o}=e;return o={...at,...o},n&&(s=JSON.stringify(n),o["Content-Type"]="application/json"),window.fetch(t||r||window.location.href,{...it,...i,body:s,headers:o}).then((e=>Promise.resolve(e).then(ot).catch((e=>rt(e,a))).then((e=>tt(e,a)))),(e=>{if(e&&"AbortError"===e.name)throw e;throw{code:"fetch_error",message:Ue("You are probably offline.")}}))};function ut(e){return st.reduceRight(((e,t)=>r=>t(r,e)),lt)(e).catch((t=>"rest_cookie_invalid_nonce"!==t.code?Promise.reject(t):window.fetch(ut.nonceEndpoint).then(ot).then((e=>e.text())).then((t=>(ut.nonceMiddleware.nonce=t,ut(e))))))}ut.use=function(e){st.unshift(e)},ut.setFetchHandler=function(e){lt=e},ut.createNonceMiddleware=function(e){const t=(e,r)=>{const{headers:n={}}=e;for(const a in n)if("x-wp-nonce"===a.toLowerCase()&&n[a]===t.nonce)return r(e);return r({...e,headers:{...n,"X-WP-Nonce":t.nonce}})};return t.nonce=e,t},ut.createPreloadingMiddleware=function(e){const t=Object.fromEntries(Object.entries(e).map((([e,t])=>[Ie(e),t])));return(e,r)=>{const{parse:n=!0}=e;let a=e.path;if(!a&&e.url){const{rest_route:t,...r}=$e(e.url);"string"==typeof t&&(a=Ge(t,r))}if("string"!=typeof a)return r(e);const i=e.method||"GET",s=Ie(a);if("GET"===i&&t[s]){const e=t[s];return delete t[s],He(e,!!n)}if("OPTIONS"===i&&t[i]&&t[i][s]){const e=t[i][s];return delete t[i][s],He(e,!!n)}return r(e)}},ut.createRootURLMiddleware=e=>(t,r)=>Me(t,(t=>{let n,a=t.url,i=t.path;return"string"==typeof i&&(n=e,-1!==e.indexOf("?")&&(i=i.replace("?","&")),i=i.replace(/^\//,""),"string"==typeof n&&-1!==n.indexOf("?")&&(i=i.replace("?","&")),a=n+i),r({...t,url:a})})),ut.fetchAllMiddleware=Ke,ut.mediaUploadMiddleware=(e,t)=>{if(!function(e){const t=!!e.method&&"POST"===e.method;return(!!e.path&&-1!==e.path.indexOf("/wp/v2/media")||!!e.url&&-1!==e.url.indexOf("/wp/v2/media"))&&t}(e))return t(e);let r=0;const n=e=>(r++,t({path:`/wp/v2/media/${e}/post-process`,method:"POST",data:{action:"create-image-subsizes"},parse:!1}).catch((()=>r<5?n(e):(t({path:`/wp/v2/media/${e}?force=true`,method:"DELETE"}),Promise.reject()))));return t({...e,parse:!1}).catch((t=>{if(!t.headers)return Promise.reject(t);const r=t.headers.get("x-wp-upload-attachment-id");return t.status>=500&&t.status<600&&r?n(r).catch((()=>!1!==e.parse?Promise.reject({code:"post_process",message:Ue("Media upload failed. If this is a photo or a large image, please scale it down and try again.")}):Promise.reject(t))):rt(t,e.parse)})).then((t=>tt(t,e.parse)))},ut.createThemePreviewMiddleware=e=>(t,r)=>{if("string"==typeof t.url){const r=Ze(t.url,"wp_theme_preview");void 0===r?t.url=Ge(t.url,{wp_theme_preview:e}):""===r&&(t.url=nt(t.url,"wp_theme_preview"))}if("string"==typeof t.path){const r=Ze(t.path,"wp_theme_preview");void 0===r?t.path=Ge(t.path,{wp_theme_preview:e}):""===r&&(t.path=nt(t.path,"wp_theme_preview"))}return r(t)};const ct=ut;function dt(){return dt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dt.apply(null,arguments)}var ft=function(t){var r=t.setModalOpen,n=t.data,a=_e({defaultValues:{additional_info:n.additional_info}}),i=a.register,s=a.handleSubmit;return a.watch,a.formState.errors,React.createElement(e.Modal,{title:"Nota Adicional",onRequestClose:function(){return r(!1)},size:"large"},React.createElement("form",{onSubmit:s((function(e){console.log({formData:e});var t={walker_id:n.id,additional_info:e.additional_info};ct({path:"/wp-json/wp-easy-tables/v1/update-walker-additional-info",method:"POST",headers:{"X-WP-Nonce":window.wpApiSettings.nonce},data:t}).then((function(e){r(!1),alert("Notas adicionales guardadas correctamente.")})).catch((function(e){alert("Ocurrió un error al guardar las notas adicionales.")}))}))},React.createElement(e.TextareaControl,dt({label:"Notas adicionales"},i("additional_info"))),React.createElement(e.Button,{type:"submit",variant:"secondary"},"Guardar")))};function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,i,s,o=[],l=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(o.push(n.value),o.length!==t);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return mt(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?mt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var ht=function(e){var t=e.data,r=pt((0,i.useState)(!1),2),n=r[0],s=r[1],o=pt((0,i.useState)(!1),2),l=o[0],u=o[1];return React.createElement(React.Fragment,null,React.createElement(a,{data:t,onEditClick:function(){s(!n)},onNotesClick:function(){u(!l)}}),n&&React.createElement(je,{data:t,setModalOpen:s}),l&&React.createElement(ft,{data:t,setModalOpen:u}))};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".user-table-row").forEach((function(e){var t=JSON.parse(e.getAttribute("data-walker")),r=e.querySelector(".user-action-container");wp.element.render(React.createElement(ht,{data:t}),r)}))}))})()})();